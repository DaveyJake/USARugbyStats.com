<div class="page-header">
  <?php if ( $this->isGranted('competition.team.update', $team) ):?>
  <div class="pull-right" style="margin-top:5px">
    <a class="btn btn-primary" href="<?=$this->url('usarugbystats_frontend_team/update', ['id' => $team->getId()]); ?>"><i class="glyphicon glyphglyphicon glyphicon-cog"></i> Edit Team</a>
  </div>
  <?php endif; ?>
  <h1><?= $this->escapeHtml($team->getName()); ?></h1>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Upcoming Games</div>
  <?php if (count($upcomingMatches)): ?>
  <?php   echo $this->render('usa-rugby-stats/competition-frontend/partials/games-listing', ['matches' => $upcomingMatches, 'showScore' => false]); ?>
  <?php else: ?>
  <div class="panel-body">
    <div class="pull-center">This team is not participating in any upcoming matches.</div>
  </div>
  <?php endif; ?>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Past Games</div>
  <?php if (count($pastMatches)): ?>
  <?php   echo $this->render('usa-rugby-stats/competition-frontend/partials/games-listing', ['matches' => $pastMatches, 'showScore' => true]); ?>
  <?php else: ?>
  <div class="panel-body">
    <div class="pull-center">This team has not participated in any past matches.</div>
  </div>
  <?php endif; ?>
</div>

<?php $teams = $team->getTeamMemberships(); ?>
<div class="panel panel-default">
  <div class="panel-heading">Competitions</div>
  <?php if (count($teams)): ?>

    <table class="table table-striped">
      <thead>
        <tr>
     	  <th>Competition</th>
     	  <th width="140">Start Date</th>
     	  <th width="140">End Date</th>
     	  <th width="55">Format</th>
         </tr>
       </thead>
       <tbody>
         <?php foreach ( $teams as $membership ): ?>
         <?php   $comp = $membership->getCompetition(); ?>
         <tr>
           <td><a href="<?=$this->url('usarugbystats_frontend_competition', ['id' => $comp->getId()]); ?>"><?= $this->escapeHtml($comp->getName()); ?></a></td>
           <td><?= $this->escapeHtml($comp->getStartDate()->format('F j, Y')); ?></td>
           <td><?= $this->escapeHtml($comp->getEndDate()->format('F j, Y')); ?></td>
           <td><?= $this->escapeHtml($comp->getVariant()); ?></td>
        </tr>
        <?php endforeach; ?>
      </tbody>
    </table>

  <?php else: ?>
  <div class="panel-body">
    <div class="pull-center">This team is not participating in any competitions.</div>
  </div>
  <?php endif; ?>
</div>
